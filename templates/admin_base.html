{% extends "base.html" %}
{# Macros #}
{# Delete entity modal #}
{% macro delete_entity_modal() %}
    <div class="modal fade" id="ka-delete-entity-modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Удаление объекта</h4>
                </div>
                <div class="modal-body">
                    <div class="ajax-loader-container"></div>
                    <div class="default-content">
                        <p>
                            Вы уверены, что хотите удалить этот объект?
                        </p>
                        <p class="text-danger" id="ka-cascade-delete-warning">
                            <b>
                                Удаление документа из этого списка приведет
                                к его удалению из всех услуг!
                            </b>
                        </p>
                        <div class="alert alert-info">
                            <p>
                                <b>Класс:</b>
                                <span id="ka-verbose-kind"></span>
                            </p>
                            <p><b>Значение: </b><span id="ka-repr"></span></p>
                        </div>
                    </div>
                    <div class="variable-content" hidden="hidden"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger default-content"
                            id="ka-confirm-delete">
                        Удалить
                    </button>
                    <button type="button" class="btn btn-default"
                            data-dismiss="modal" id="ka-close-modal">
                        Не надо!
                    </button>
                </div>
            </div>
        </div>
    </div>
{% endmacro %}
{% block title_affix %}.Admin{% endblock %}
{% block common_js %}
    <script src="/static/admin.js"></script>
    {# Handlebars templates #}
    {% raw %}
        <!-- Ajax loader -->
        <script id="hbt-ajax-loader" type="text/x-handlebars-template">
            <img src="/static/ajax-loader.gif" alt="Загрузка..."/>
        </script>
        <!-- List of entities in Bootstrap nav tabs -->
        <script id="hbt-biglist" type="text/x-handlebars-template">
            <div class="list-group-item list-group-item-success
                        ka-biglist-new">
                + Добавить
            </div>
            {{#each items}}
            <div data-id="{{id}}" class="list-group-item ka-biglist-entry"
                 data-repr="{{value}}">
                {{value}}
                <i class="glyphicon glyphicon-remove pull-right
                          ka-biglist-delete"></i>
            </div>
            {{/each}}
        </script>
        <!-- Error message -->
        <script id="hbt-error" type="text/x-handlebars-template">
            <div class="alert alert-danger" role="alert">
                <h4>Ошибка!</h4>
                <p>
                    Во время выполнения действия произошла ошибка: {{status}},
                    {{error}}.
                </p>
            </div>
        </script>
        <!-- Success message -->
        <script id="hbt-success" type="text/x-handlebars-template">
            <div class="alert alert-success" role="alert">
                <h4>Отлично!</h4>
                <p>{{message}}.</p>
            </div>
        </script>
    {% endraw %}
{% endblock %}
{% block navbar %}
    <div class="navbar navbar-inverse navbar-static-top">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="{{ uri_for('start') }}">
                    Kompleks
                </a>
            </div>
        </div>
    </div>
{% endblock %}